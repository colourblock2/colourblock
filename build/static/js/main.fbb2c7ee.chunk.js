(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(e,t,n){e.exports=n(20)},17:function(e,t,n){},19:function(e,t,n){},20:function(e,t,n){"use strict";n.r(t);var o=n(0),a=n.n(o),r=n(5),i=n.n(r),c=(n(17),n(2)),s=n.n(c),d=n(3),l=n(6),u=n(7),m=n(9),E=n(8),f=n(10),p={getAddress:function(){return new Promise(function(e){window.addEventListener("ICONEX_RELAY_RESPONSE",function t(n){var o=n.detail,a=o.type,r=o.payload;"RESPONSE_ADDRESS"===a&&e(r),window.removeEventListener("ICONEX_RELAY_RESPONSE",t)}),window.dispatchEvent(new CustomEvent("ICONEX_RELAY_REQUEST",{detail:{type:"REQUEST_ADDRESS"}}))})},sendTransaction:function(e){return new Promise(function(t){window.addEventListener("ICONEX_RELAY_RESPONSE",function e(n){var o=n.detail,a=o.type,r=o.payload;"RESPONSE_JSON-RPC"===a&&t(r.result),window.removeEventListener("ICONEX_RELAY_RESPONSE",e)}),window.dispatchEvent(new CustomEvent("ICONEX_RELAY_REQUEST",{detail:{type:"REQUEST_JSON-RPC",payload:e}}))})}},v=n(1),h=n.n(v),w={PROVIDER_URL:"https://bicon.net.solidwallet.io/api/v3",NID:"0x3",CONTRACT_ADDRESS:"cxf989b734f2fc7b398cecd2c1988f77524358c5f4"},g=new v.HttpProvider(w.PROVIDER_URL),R=new h.a(g),S=v.IconBuilder.CallBuilder,N=v.IconBuilder.CallTransactionBuilder,O={iconService:R,callBuild:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.from,n=e.methodName,o=e.to,a=e.params,r=void 0===a?{}:a;return(new S).from(t).to(o).method(n).params(r).build()},sendTxBuild:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.from,n=e.to,o=e.methodName,a=e.params,r=void 0===a?{}:a,i=e.networkId,c=void 0===i?w.NID:i,s=e.stepLimit,d=void 0===s?"0x493e0":s,l=e.value,u=void 0===l?"0x0":l;return{jsonrpc:"2.0",method:"icx_sendTransaction",params:(new N).nid(c).from(t).to(n).stepLimit(d).value(u).timestamp("0x".concat((1e3*(new Date).getTime()).toString(16))).method(o).params(r).version("0x3").build(),id:1}}},L=(n(19),{0:"WHITE",1:"RED",2:"ORANGE",3:"YELLOW",4:"LIME GREEN",5:"KELLY GREEN",6:"SKY BLUE",7:"ROYAL BLUE",8:"VIOLET",9:"PINK",10:"BROWN",11:"GRAY",12:"BLACK"}),C={0:"#f1f1f1",1:"#ff5349",2:"#ff6600",3:"#fff222",4:"#32cd32",5:"#01a263",6:"#00ccff",7:"#4169e1",8:"#9400d3",9:"#ff78cb",10:"#654321",11:"#c2c5cc",12:"#333333"},_=function(e){function t(){var e,n;Object(l.a)(this,t);for(var o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return(n=Object(m.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(a)))).state={colour:0,isLoggedIn:!1,address:""},n.handleChange=function(e){n.setState({colour:e.target.value})},n.handleLogIn=function(){var e=Object(d.a)(s.a.mark(function e(t){var o,a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.getAddress();case 2:return o=e.sent,e.next=5,O.iconService.call(O.callBuild({methodName:"get_mood_code",params:{address:o},to:w.CONTRACT_ADDRESS})).execute();case 5:a=e.sent,console.log(a),n.setState({myAddress:o,isLoggedIn:!0,colour:Number(a)||0});case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n.handleSubmit=Object(d.a)(s.a.mark(function e(){var t,o,a,r,i;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=O.sendTxBuild,o=n.state,a=o.colour,r=o.myAddress,i=t({from:r,to:w.CONTRACT_ADDRESS,methodName:"set_mood_code",params:{code:v.IconConverter.toHex(Number(a))}}),e.next=5,p.sendTransaction(i);case 5:e.sent,alert("\uc624\ub298\uc758 \uc0c9\uae54\uc774 \ub4f1\ub85d\ub418\uc5c8\uc2b5\ub2c8\ub2e4.");case 7:case"end":return e.stop()}},e)})),n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.state,t=e.colour,n=e.isLoggedIn;return a.a.createElement("div",{className:"App",style:{background:C[t]}},a.a.createElement("div",{className:"logo"},"colourBlock",n?a.a.createElement(a.a.Fragment,null,a.a.createElement("select",{onChange:this.handleChange,defaultValue:0,style:{marginLeft:20,marginBottom:20,marginRight:10,height:"22px"},name:"colour"},Object.values(L).map(function(e,t){return a.a.createElement("option",{key:t,value:t},e)})),a.a.createElement("button",{onClick:this.handleSubmit},"\ub4f1\ub85d")):a.a.createElement("button",{style:{marginLeft:20},onClick:this.handleLogIn},"\ub85c\uadf8\uc778")),a.a.createElement("div",{className:"App-header"},L[t]),a.a.createElement("div",{style:{position:"fixed",fontSize:9,width:"100vw",margin:"0 auto",bottom:30}},"inspired by ",a.a.createElement("a",{href:"https://graf1x.com/color-psychology-emotion-meaning-poster/"},"https://graf1x.com/color-psychology-emotion-meaning-poster/")))}}]),t}(o.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(_,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[11,1,2]]]);
//# sourceMappingURL=main.fbb2c7ee.chunk.js.map